
{%extends 'base.html'%}

{%block main_block%}

    <h1>Booking Confirmation</h1>

    <h2>{{ car.title }}</h2>
    <img src="{{ car.picture.url }}" alt="{{ car.title }}" style="width: 300px; height: auto;">
    <p>Price per Day: ₹{{ car.price_per_day }}</p>
    <p>Price per Week: ₹{{ car.price_per_week }}</p>
    <p>Price per Month: ₹{{ car.price_per_month }}</p>

    {% if availability == "Not Available" %}
        <p style="color: red;">The selected dates are not available.</p>
    {% endif %}

    <!-- <form method="post">
        {% csrf_token %}
        
        
        {{ form.as_p }}
        <button type="submit">Confirm Booking</button>
    </form> -->
    <!-- delivery details -->

    <form action="#" method="post" class="mx-auto max-w-screen-xl px-4 2xl:px-0">
        {% csrf_token %}

        <div class="mt-6 sm:mt-8 lg:flex lg:items-start lg:gap-12 xl:gap-16">

            <div class="min-w-0 flex-1 space-y-8">

                <div class="space-y-4">
                    <h2 class="text-xl font-semibold text-gray-900 light:text-white">Booking Confirmation</h2>

                    <div class="grid grid-cols-1 gap-4 sm:grid-cols-1 border px-4 py-4 sm:px-6 shadow rounded">
                        <div class="mb-4">
                            <label class="block text-gray-700 font-bold mb-2" for="name">
                                Name
                            </label>
                            <input
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                                id="fullname" type="text" placeholder="Enter your name">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 font-bold mb-2" for="date">
                                From Date
                            </label>
                            <input
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                                id="from_date" type="date" placeholder="Select a date">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 font-bold mb-2" for="date">
                                To Date
                            </label>
                            <input
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                                id="to_date" type="date" placeholder="Select a date">
                        </div>

                        <div>
                            <label for="your_email"
                                class="mb-2 block text-sm font-medium text-gray-900 light:text-white"> Your email*
                            </label>
                            <input type="email" id="email"
                                class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 light:border-gray-600 light:bg-gray-700 light:text-white light:placeholder:text-gray-400 light:focus:border-primary-500 light:focus:ring-primary-500"
                                placeholder="name@flowbite.com" required />
                        </div>
                        <div>
                            <label for="address" class="mb-2 block text-sm font-medium text-gray-900 light:text-white">
                                Address <span class="text-red-500">*</span> </label>
                            <textarea id="address" name="address"
                                class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 light:border-gray-600 light:bg-gray-700 light:text-white light:placeholder:text-gray-400 light:focus:border-primary-500 light:focus:ring-primary-500"
                                placeholder="Enter Your Full Address"></textarea>
                        </div>

                        <div>
                            <label for="phone-input-3"
                                class="mb-2 block text-sm font-medium text-gray-900 light:text-white"> Phone Number
                                <span class="text-red-500">*</span> </label>
                            <div class="flex items-center">
                                <div id="dropdown-phone-button-3"
                                    class="z-10 inline-flex shrink-0 items-center rounded-s-lg border border-gray-300 bg-gray-100 px-4 py-2.5 text-center text-sm font-medium text-gray-900 hover:bg-gray-200 focus:outline-none focus:ring-4 focus:ring-gray-100 light:border-gray-600 light:bg-gray-700 light:text-white light:hover:bg-gray-600 light:focus:ring-gray-700">
                                    <svg fill="none" aria-hidden="true" class="me-2 h-4 w-4" viewBox="0 0 20 15">
                                        <rect width="19.6" height="14" y=".5" fill="#fff" rx="2" />
                                        <mask id="a" style="mask-type:luminance" width="20" height="15" x="0" y="0"
                                            maskUnits="userSpaceOnUse">
                                            <rect width="19.6" height="14" y=".5" fill="#fff" rx="2" />
                                        </mask>
                                        <g mask="url(#a)">
                                            <!-- Saffron stripe at the top -->
                                            <path fill="#FF9933" d="M0 .5h19.6v4.667H0z" />

                                            <!-- White middle stripe -->
                                            <path fill="#FFFFFF" d="M0 5.167h19.6v3.666H0z" />

                                            <!-- Green stripe at the bottom -->
                                            <path fill="#138808" d="M0 8.833h19.6v5.667H0z" />

                                            <!-- Ashoka Chakra (24-spoke wheel) in navy blue -->
                                            <g transform="translate(9.8, 6.967) scale(1.2)">
                                                <circle cx="0" cy="0" r="1.2" fill="#000088" />
                                                <g fill="#FFFFFF">
                                                    <!-- 24 spokes -->
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(0)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(15)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(30)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(45)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(60)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(75)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(90)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(105)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(120)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(135)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(150)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(165)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(180)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(195)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(210)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(225)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(240)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(255)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(270)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(285)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(300)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(315)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(330)" />
                                                    <path d="M0 -1 L0.1 1 L-0.1 1 Z" transform="rotate(345)" />
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                    +91
                                </div>
                                <div class="relative w-full">
                                    <input type="number" name="phone" id="phone"
                                        class="z-20 block w-full rounded-e-lg border border-s-0 border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 light:border-gray-600 light:border-s-gray-700  light:bg-gray-700 light:text-white light:placeholder:text-gray-400 light:focus:border-primary-500"
                                        pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="1234-5678-90" required />
                                </div>
                            </div>
                        </div>


                        <div class="mb-4">
                            <label class="block text-gray-700 font-bold mb-2" for="city">
                                City
                            </label>
                            <input
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                                id="city" type="text" placeholder="Enter your city">
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 font-bold mb-2" for="message">
                                Special Request
                            </label>
                            <textarea
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                                id="special_request" rows="4" placeholder="Enter any additional information"></textarea>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 font-bold mb-2" for="option">
                                With driver
                            </label>
                            <select
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                                name="with_driver" id="with_driver">
                                <option value="No">NO</option>
                                <option value="Yes">YES</option>
                            </select>
                        </div>
                    </div>

                </div>
                

            </div>

     <!-- end delivery details -->

     <div class="mt-6 w-full space-y-6 sm:mt-8 lg:mt-0 lg:max-w-xs xl:max-w-md">

        <!-- payment method start -->
        <div class="space-y-4">
            <h3 class="text-xl font-semibold text-gray-900 light:text-white">Payment</h3>

            <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
                <div
                    class="rounded-lg border border-gray-200 bg-gray-50 p-4 ps-4 light:border-gray-700 light:bg-gray-800">
                    <div class="flex items-start">
                        <div class="flex h-5 items-center">
                            <input id="credit-card" name="payment_method" aria-describedby="credit-card-text"
                                type="radio"  value="COD"
                                class="h-4 w-4 border-gray-300 bg-white text-primary-600 focus:ring-2 focus:ring-primary-600 light:border-gray-600 light:bg-gray-700 light:ring-offset-gray-800 light:focus:ring-primary-600"
                                checked />
                        </div>

                        <div class="ms-4 text-sm">
                            <label for="credit-card"
                                class="font-medium leading-none text-gray-900 light:text-white"> Cash on
                                delivery </label>
                            <p id="credit-card-text"
                                class="mt-1 text-xs font-normal text-gray-500 light:text-gray-400">Pay at the
                                time of delivery</p>
                        </div>
                    </div>

                    <!-- <div class="mt-4 flex items-center gap-2">
                <button type="button" class="text-sm font-medium text-gray-500 hover:text-gray-900 light:text-gray-400 light:hover:text-white">Delete</button>

                <div class="h-3 w-px shrink-0 bg-gray-200 light:bg-gray-700"></div>

                <button type="button" class="text-sm font-medium text-gray-500 hover:text-gray-900 light:text-gray-400 light:hover:text-white">Edit</button>
              </div> -->
                </div>

                <div
                    class="rounded-lg border border-gray-200 bg-gray-50 p-4 ps-4 light:border-gray-700 light:bg-gray-800">
                    <div class="flex items-start">
                        <div class="flex h-5 items-center">
                            <input id="pay-on-delivery" name="payment_method"
                                aria-describedby="pay-on-delivery-text" type="radio" 
                                value="ONLINE"
                                class="h-4 w-4 border-gray-300 bg-white text-primary-600 focus:ring-2 focus:ring-primary-600 light:border-gray-600 light:bg-gray-700 light:ring-offset-gray-800 light:focus:ring-primary-600" />
                        </div>

                        <div class="ms-4 text-sm">
                            <label for="pay-on-delivery"
                                class="font-medium leading-none text-gray-900 light:text-white"> Online payment
                            </label>
                            <p id="pay-on-delivery-text"
                                class="mt-1 text-xs font-normal text-gray-500 light:text-gray-400">+₹5 payment
                                processing fee</p>
                        </div>
                    </div>

                </div>

                <!-- <div class="rounded-lg border border-gray-200 bg-gray-50 p-4 ps-4 light:border-gray-700 light:bg-gray-800">
              <div class="flex items-start">
                <div class="flex h-5 items-center">
                  <input id="paypal-2" aria-describedby="paypal-text" type="radio" name="payment-method" value="" class="h-4 w-4 border-gray-300 bg-white text-primary-600 focus:ring-2 focus:ring-primary-600 light:border-gray-600 light:bg-gray-700 light:ring-offset-gray-800 light:focus:ring-primary-600" />
                </div>

                <div class="ms-4 text-sm">
                  <label for="paypal-2" class="font-medium leading-none text-gray-900 light:text-white"> Paypal account </label>
                  <p id="paypal-text" class="mt-1 text-xs font-normal text-gray-500 light:text-gray-400">Connect to your account</p>
                </div>
              </div>

              <div class="mt-4 flex items-center gap-2">
                <button type="button" class="text-sm font-medium text-gray-500 hover:text-gray-900 light:text-gray-400 light:hover:text-white">Delete</button>

                <div class="h-3 w-px shrink-0 bg-gray-200 light:bg-gray-700"></div>

                <button type="button" class="text-sm font-medium text-gray-500 hover:text-gray-900 light:text-gray-400 light:hover:text-white">Edit</button>
              </div>
            </div> -->
            </div>
        </div>
        <!-- payment method end -->


    {% if total_payment %}
        <h3>
            Total Payment: ₹{{ total_payment }}
            <br>
            {% if total_payment == car.price_per_day %}
                (Calculated based on daily rate)
            {% elif total_payment == car.price_per_week %}
                (Calculated based on weekly rate)
            {% else %}
                (Calculated based on monthly rate)
            {% endif %}
        </h3>
    {% endif %}

    {%endblock%}
